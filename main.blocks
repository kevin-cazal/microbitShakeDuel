<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="nmoza%Z@uJ}ey-K$_XA$">otherCompleted</variable><variable id="9*GU3?RIT_Xuk_6v+;rG">shake</variable><variable id="%{1b}|B9M1xz,31JtF94">completed</variable></variables><block type="pxt-on-start" id=".~h$jnV3j7|t{Qh#=E)Q" x="20" y="20"><statement name="HANDLER"><block type="radio_set_group" id="[.Nrp*`Nwr)|nY)bmo^="><value name="ID"><shadow type="math_number_minmax" id="u4-_D{v~mM[95g|s6[]t"><mutation min="0" max="255" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><next><block type="variables_set" id="Ahz;ZO_UIfy6i0pIYZC:"><field name="VAR" id="nmoza%Z@uJ}ey-K$_XA$">otherCompleted</field><value name="VALUE"><shadow type="math_number" id="hS:e9Ib4gkL]T2VXW`*E"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="@8*QL;Xv}sCoOkXIo$aR"><field name="VAR" id="9*GU3?RIT_Xuk_6v+;rG">shake</field><value name="VALUE"><shadow type="math_number" id="7ZJ]QGl%w9c=VhY/$2yB"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="/k~0dFggkGra(M]TUftI"><field name="VAR" id="%{1b}|B9M1xz,31JtF94">completed</field><value name="VALUE"><shadow type="math_number" id="53Uij.Bo;$6TV$=K_Ibz"><field name="NUM">0</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="device_gesture_event" id="r:=.a%.qvW;BK@Vcoq}0" x="370" y="20"><field name="NAME">Gesture.Shake</field><statement name="HANDLER"><block type="device_plot" id="*Xm6Xpq.3ofxy51)y_;J"><value name="x"><shadow type="math_number_minmax" id="{j1{%tQ1W}enw$)q|J!1"><mutation min="0" max="4" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="math_modulo" id="Y_RG[.a~EHsen;e-7p1`"><value name="DIVIDEND"><shadow type="math_number" id="F{`Mh`t)_[5ti-H5}12!"><field name="NUM">0</field></shadow><block type="variables_get" id=";F~1`GNX8.[XG!.=RC7R"><field name="VAR" id="9*GU3?RIT_Xuk_6v+;rG">shake</field></block></value><value name="DIVISOR"><shadow type="math_number" id="Cd4]{bfH=.:z;(h`LY+#"><field name="NUM">5</field></shadow></value></block></value><value name="y"><shadow type="math_number_minmax" id="?V4pg|R9Ye7k2A;##vEV"><mutation min="0" max="4" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="math_arithmetic" id="NGQY*Jf!it+WM_BG4S;2"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="B`K;/$w^98ymwlJzw_p0"><field name="NUM">0</field></shadow><block type="variables_get" id="8A{vXWmWQV:iBOPJlRt:"><field name="VAR" id="9*GU3?RIT_Xuk_6v+;rG">shake</field></block></value><value name="B"><shadow type="math_number" id="}igY3P,=ez|!y:$u,hLP"><field name="NUM">5</field></shadow></value></block></value><next><block type="variables_change" id="--1$xFza,DshWD8@J(r-"><field name="VAR" id="9*GU3?RIT_Xuk_6v+;rG">shake</field><value name="VALUE"><shadow type="math_number" id=".$DuF]b2(WBetN~:]#t@"><field name="NUM">1</field></shadow></value><next><block type="controls_if" id="IQpvnIWc^o^j~*Y_$g-B"><value name="IF0"><shadow type="logic_boolean" id="(idy]B{;7u9Zm}Yk^Q1K"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="P*a=~o(]{4.lCiDwTk[-"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="BukZBjMk{HHL1Bc7D$fV"><field name="NUM">0</field></shadow><block type="variables_get" id="pF?s^j;1+rE(5~1+-jJx"><field name="VAR" id="9*GU3?RIT_Xuk_6v+;rG">shake</field></block></value><value name="B"><shadow type="math_number" id="h;}M_b4.Co#B5vy]UBrh"><field name="NUM">25</field></shadow></value></block></value><statement name="DO0"><block type="music_playable_play" id="|QQLSavdS!l7@g_p6tB_"><field name="playbackMode">music.PlaybackMode.InBackground</field><value name="toPlay"><shadow type="music_string_playable" id="q11{#)Wq$_rVEYCBRhN~"><value name="melody"><shadow type="melody_editor" id="bHf!ZDFx]d[cS6j/Wt),"><field name="melody">"E D G F B A C5 B "</field></shadow></value><value name="bpm"><shadow type="math_number_minmax" id=".#6-h)lFnRtBn?Y)qb-_"><mutation min="40" max="500" precision="0"></mutation><field name="SLIDER">500</field></shadow></value></shadow></value><next><block type="device_pause" id="YN@BK(2c2n2_RQe^T:*N"><value name="pause"><shadow type="timePicker" id="uda)88gv!-%J%].=L{@6"><field name="ms">1000</field></shadow></value><next><block type="device_clear_display" id="eDlnU8zCX5=*[v`bwFR;"><next><block type="variables_set" id="dGsJut)32z!e[KdZZTGB"><field name="VAR" id="9*GU3?RIT_Xuk_6v+;rG">shake</field><value name="VALUE"><shadow type="math_number" id="$7M!9Lfvtc;y^zeaF1Y("><field name="NUM">0</field></shadow></value><next><block type="variables_change" id="P~a:0rWAvuF*;k$2SZCJ"><field name="VAR" id="%{1b}|B9M1xz,31JtF94">completed</field><value name="VALUE"><shadow type="math_number" id="Cr22!K)JbG)=T+u=;*uX"><field name="NUM">1</field></shadow></value><next><block type="radio_datagram_send" id="f+6dRQ?-).eF9qyg$p?i"><value name="value"><block type="variables_get" id=",P:VOX$9y,nGEl~`2=C5"><field name="VAR" id="%{1b}|B9M1xz,31JtF94">completed</field></block></value><next><block type="controls_if" id="]RQbdeJv}W$O;I23MU5T"><value name="IF0"><shadow type="logic_boolean" id="YG3ZU[QE-LF*U,8?_blm"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Pr2``ye3F#EQgMf-T?=+"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="-qPC`O[1}Zb6*cZG|;(T"><field name="NUM">0</field></shadow><block type="variables_get" id="+,]gV$xoR,sGJF[@jA#c"><field name="VAR" id="%{1b}|B9M1xz,31JtF94">completed</field></block></value><value name="B"><shadow type="math_number" id="B?tqy5|.#V~d%ypTpMC^"><field name="NUM">2</field></shadow></value></block></value><statement name="DO0"><block type="basic_show_icon" id="Ovl(~M_b{?5JL(t/o+M^"><field name="i">IconNames.Happy</field><next><block type="device_pause" id="ABYn]%ha)=7MzF3%]+s?"><value name="pause"><shadow type="timePicker" id="8k/cXr!z}3w)J68vkiw/"><field name="ms">2000</field></shadow></value><next><block type="control_reset" id="~fh75KG0$YxJf/%Ksl%M"></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement></block><block type="radio_on_number_drag" id="V?WSi-u6jf62q{Z{;ndP" x="1078" y="20"><comment pinned="false" h="80" w="160"># Micro:Bit Shake Duel

Goal: Develop a fun 2 players game with Micro:Bit

Rules: Shake the Micro:Bit faster than your opponent to win the duel. The first to win 2 duels wins the match.

To win a duel: shake the Micro:Bit 25 time before your opponent does the same.

[Basic] On start:

..[Variables] Initialize variables: numberOfShake, numberOfWin, otherNumberOfWin to 0

..[Radio] Set your radio group number to the same value as your opponent's radio group number

[Input] On shake:

..Increase numberOfShake by 1; [Led] Turn on leds to show numberOfShake

..If numberOfShake reach 25:

....Increase numberOfWin by 1; [Music] Play a melody

....Reset numberOfShake to 0; [Basic] Clear screen

....Send numberOfWin to the opponent

....[Logic] If numberOfWin reach 2:

......You win ! ; [Led] Show a Happy face; [Advanced/Controls] Reset the Micro:Bit

[Input] On radio received number:

..Set this number as a new value for otherNumberOfWin; [Music] Play a melody

..Reset numberOfShake to 0; [Basic] Clear Screen

..[Logic] If otherNumberOfWin reach 2:

....You lose ! [Led] Show a Sad face ; [Advanced/Controls] Reset the Micro:Bit</comment><value name="HANDLER_DRAG_PARAM_receivedNumber"><block type="argument_reporter_number" id="~,TI*jvWF[|-cvx9,uj^" deletable="false"><field name="VALUE">receivedNumber</field></block></value><statement name="HANDLER"><block type="variables_set" id="ih0VFY3)4}YOJQ0Vu:5`"><field name="VAR" id="nmoza%Z@uJ}ey-K$_XA$">otherCompleted</field><value name="VALUE"><shadow type="math_number" id="+DV/Mrrda$6ycn3?@fp)"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="qEu#JuY^VDf,F:,zq$+("><field name="VALUE">receivedNumber</field></block></value><next><block type="music_playable_play" id="xMqUReYgVJGt,X@YodO5"><field name="playbackMode">music.PlaybackMode.InBackground</field><value name="toPlay"><shadow type="music_string_playable" id="c8g(xy/j,bxDn{n4;OxE"><value name="melody"><shadow type="melody_editor" id=";LNi-%CUcK@o5(n=dLTV"><field name="melody">"C5 A B G A F G E "</field></shadow></value><value name="bpm"><shadow type="math_number_minmax" id="%B9pV4pil?2CbogYP:ov"><mutation min="40" max="500" precision="0"></mutation><field name="SLIDER">500</field></shadow></value></shadow></value><next><block type="variables_set" id="B~S;9q1TVru|#:CMtPrp"><field name="VAR" id="9*GU3?RIT_Xuk_6v+;rG">shake</field><value name="VALUE"><shadow type="math_number" id="oiQ))Ewt(UAs~Gm%XhR("><field name="NUM">0</field></shadow></value><next><block type="device_clear_display" id="q7:m.2{|*-OeaPI)3*a;"><next><block type="controls_if" id="xP_++|cF~%!Jg{7.m844"><value name="IF0"><shadow type="logic_boolean" id="El?5|L$cNsZ?PEI`@Q.t"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="1`x9L#{yRWmqGiPmjdHu"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="02%`sa38LB~*85,:7!K6"><field name="NUM">0</field></shadow><block type="variables_get" id="z`)i4k(9},~9w(r?NWOJ"><field name="VAR" id="nmoza%Z@uJ}ey-K$_XA$">otherCompleted</field></block></value><value name="B"><shadow type="math_number" id="V1UahEd3~s{4/~77-v=o"><field name="NUM">2</field></shadow></value></block></value><statement name="DO0"><block type="basic_show_icon" id="9{xeYFFoj3o{hxv4~/Y*"><field name="i">IconNames.Sad</field><next><block type="device_pause" id=";s/Pv)WN9,g6!DQXwla("><value name="pause"><shadow type="timePicker" id="Go~g:RH,*9)egY8TCH5z"><field name="ms">2000</field></shadow></value><next><block type="control_reset" id="G`.8`gjO+Wnc#Yf~hBQ1"></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></xml>